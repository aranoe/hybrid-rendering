import{i as O,j as _,k as w,l as E,m as k,w as M,u,p as z,h as A,q as x,o as y,b as p,t as h,s as F,f as b,F as j}from"./entry.140a9843.js";const H=()=>null;function P(...l){var g;const s=typeof l[l.length-1]=="string"?l.pop():void 0;typeof l[0]!="string"&&l.unshift(s);let[e,i,a={}]=l;if(typeof e!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof i!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");a.server=a.server??!0,a.default=a.default??H,a.lazy=a.lazy??!1,a.immediate=a.immediate??!0;const t=O(),f=()=>t.isHydrating?t.payload.data[e]:t.static.data[e],m=()=>f()!==void 0;t._asyncData[e]||(t._asyncData[e]={data:_(f()??((g=a.default)==null?void 0:g.call(a))??null),pending:_(!m()),error:_(t.payload._errors[e]?w(t.payload._errors[e]):null)});const n={...t._asyncData[e]};n.refresh=n.execute=(o={})=>{if(t._asyncDataPromises[e]){if(o.dedupe===!1)return t._asyncDataPromises[e];t._asyncDataPromises[e].cancelled=!0}if(o._initial&&m())return f();n.pending.value=!0;const d=new Promise((r,c)=>{try{r(i(t))}catch(B){c(B)}}).then(r=>{if(d.cancelled)return t._asyncDataPromises[e];let c=r;a.transform&&(c=a.transform(r)),a.pick&&(c=N(c,a.pick)),n.data.value=c,n.error.value=null}).catch(r=>{var c;if(d.cancelled)return t._asyncDataPromises[e];n.error.value=r,n.data.value=u(((c=a.default)==null?void 0:c.call(a))??null)}).finally(()=>{d.cancelled||(n.pending.value=!1,t.payload.data[e]=n.data.value,n.error.value&&(t.payload._errors[e]=w(n.error.value)),delete t._asyncDataPromises[e])});return t._asyncDataPromises[e]=d,t._asyncDataPromises[e]};const v=()=>n.refresh({_initial:!0}),C=a.server!==!1&&t.payload.serverRendered;{const o=z();if(o&&!o._nuxtOnBeforeMountCbs){o._nuxtOnBeforeMountCbs=[];const r=o._nuxtOnBeforeMountCbs;o&&(E(()=>{r.forEach(c=>{c()}),r.splice(0,r.length)}),k(()=>r.splice(0,r.length)))}C&&t.isHydrating&&m()?n.pending.value=!1:o&&(t.payload.serverRendered&&t.isHydrating||a.lazy)&&a.immediate?o._nuxtOnBeforeMountCbs.push(v):a.immediate&&v(),a.watch&&M(a.watch,()=>n.refresh());const d=t.hook("app:data:refresh",r=>{if(!r||r.includes(e))return n.refresh()});o&&k(d)}const D=Promise.resolve(t._asyncDataPromises[e]).then(()=>n);return Object.assign(D,n),D}function N(l,s){const e={};for(const i of s)e[i]=l[i];return e}const T={key:0},R={key:1},S={key:2},U=b("div",null,"User",-1),$=A({__name:"Fetch",async setup(l){let s,e;const{data:i,pending:a}=([s,e]=x(()=>P("time",()=>$fetch("https://timeapi.io/api/Time/current/zone?timeZone=Europe/Amsterdam",{}))),s=await s,e(),s),{data:t}=([s,e]=x(()=>P("user",()=>$fetch("https://apimocha.com/hybrid-rendering/users",{}))),s=await s,e(),s);return(f,m)=>{var n;return y(),p(j,null,[!u(a)&&u(i)?(y(),p("div",T,h(u(i).time)+":"+h(u(i).seconds),1)):F("",!0),!u(a)&&u(i)?(y(),p("div",R,h(u(i).date),1)):(y(),p("div",S,"loading...")),U,b("div",null,h(((n=u(t))==null?void 0:n.name)??"no name"),1)],64)}}});export{$ as _};
